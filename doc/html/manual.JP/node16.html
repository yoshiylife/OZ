<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN">
<!Converted with LaTeX2HTML 95 (Thu Jan 19 1995) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds >
<!Actually with its Japanized version JLaTeX2HTML 95 (Wed Mar 1 1995) by Masahiro Kitagawa (kitagawa@ee.es.osaka-u.ac.jp), Osaka University >
<HEAD>
<TITLE>3.5 ディバッガの操作説明</TITLE>
</HEAD>
<BODY>
<meta name="description" value="3.5 ディバッガの操作説明">
<meta name="keywords" value="main">
<meta name="resource-type" value="document">
<meta name="distribution" value="global">
<P>
 <H2><A NAME=SECTION00045000000000000000>3.5 ディバッガの操作説明</A></H2>
<P>
<H3><A NAME=SECTION00045100000000000000>3.5.1 概要</A></H3>
<P>
今回リリースされるデバッガの機能には、次の４つがある。
<OL><LI>    デバッグフラグを設定したラウンチ
<LI>    プロセスとグローバルオブジェクトのインスペクト
<LI>    デバッグメッセージの捕捉
<LI>    例外メッセージの捕捉
</OL>
1. は、デバッグフラグを設定したプロセスの起動を行う。 <BR> 
2. は、指定したグローバルオブジェクトやプロセスをインスペクトし、オブジェクトの
デバッグフラグを操作する。 <BR> 
3. は debug文により出力されたデバッグメッセージを記録する。 <BR> 
4. は、例外発生のメッセージを捕捉し、プロセスのインスペクタを起動する。 <BR>
<P>
現在、インスペクタには、単独に動作するものと他のツールから呼び出されるものが
あり、ユーザインタフェースが全く異なる。しかし、将来的にはこれらの機能を統合
する予定である。
<P>
<H3><A NAME=SECTION00045200000000000000>3.5.2 操作説明</A></H3>
<P>
エグゼキュータを起動すると出てくるランチャから DebuggerFrontendLaunchable
というクラス名でオブジェクトを生成し、起動する。このランチャからのオブジェクト
の生成と起動を行う方法についてはランチャの README を参照して欲しい。
デバッガフロントエンドが起動すると、先に述べた機能を実行するための画面
（ＧＵＩ）が表示される。終了する場合は、画面の Debugger メニューで、Quit
を選ぶ。但し、既に起動されている機能は各々終了させる必要がある。
<P>
デバッグフラグを設定したラウンチ <BR>
<P>
デバッグフラグは、debug 文を実行するかどうかのフラグで、public, protected,
private, recrod の各メソッドについてオブジェクトのパート毎に設定することが
できる。デバッグフラグは、プロセスにもあり、プロセスのフォーク時に設定する
ことができる。このデバッグフラグを設定したプロセスのフォークを行うのが、
デバッグ用ランチャである。（注意、ここで述べているプロセスとは、UNIX の
プロセスでは　なく、OZ++ のプロセスのことである）
通常は、この操作を行う前に、後述のデバッグメッセージの捕捉の
準備を行う。
<P>
<UL><LI> デバッグ用ランチャの起動と終了
<P>
デバッグ用ランチャは、Debugger メニューで Launcher を選ぶと起動される。
プロジェクト管理やインスタンス管理の機能を持たないが、デバッグフラグを
設定したプロセスのフォークを行うことができる。ただし、クラス Launchable を
継承している必要がある。デバッグ用ランチャを終了するには、Close ボタンを押す。
<P>
<LI> プログラムの起動（ランチ）の手順
<OL><LI>  Class Name に起動したいクラスの名前、あるいは、パブリックのクラスＩＤ
を入力する。但し、Launchable を継承している必要がある。
この制限事項は、エグエキュータ起動時のランチャと同様である。プログラムの
起動は、Launchableクラスで取り決められた方法によって行われる。
<P>
<LI> デバッグフラグを設定する。
<P>
OZ++ 言語仕様にもとづいて記述されたデバッグ文を実行対象に
する設定を行う。次の項目を複数選択することができる。
<PRE>	Public
	Protected
	Private
	Record
</PRE>
これらは、メソッドのアクセス制御に対応しており、選択されたアクセス制御権を
もつメソッド中のデバッグ文が実行の対象となる。
<P>
<LI> Initialize ボタンを押す。
<P>
このボタンを押すとオブジェクトの生成とメソッド Initialize() の呼出しが
行われる。この一連の処理が成功すると、先程押したボタンが Launch に変わる。
Clear ボタンが押されると、生成したオブジェクトやプロセスを放置したまま、
新たにクラスに対する操作を行うことができる。
<P>
<LI> デバッグフラグを設定する。
<P>
<LI> Launch ボタンを押す。
<P>
Launch ボタンを押すと、先の生成されたオブジェクトの メソッド Launch() を
呼び出す。Clear ボタンが押されると、生成したオブジェクトやプロセスを
放置したまま、新たなクラスに対する操作を行うことができる。
<P>
<LI> 必要があれば、Kill ボタンを押す。
<P>
Kill ボタンを押すと、OZ++ 言語仕様の kill がメソッド Launch() を実行している
プロセスに対して実行される。Kill ボタンは、UNIX の SIGKILL のような動作しない。
つまり、OZ++ 言語仕様に従ってプログラムを作成しないかぎり、無限ループを
止めることはできない。
</OL></UL>
<P>
プロセスとグローバルオブジェクトのインスペクト(Inspector) <BR>
<P>
Debugger メニューで Procss を選択するとプロセスの一覧が表示される。
あるいは、Debugger メニューで Object を選ぶとグローバルオブエジェクトの一覧が
表示される。この各々の一覧からインスペクトする項目を選択（ダブルクリック）
すると、各々のインスペクト画面が表示される。
プロセスをインスペクトすると、そのプロセスは一時停止の状態になる。
グローバルオブジェクトをインスペクトすると、グローバルオブジェクトは
一時停止の状態なる。これは、そのグローバルオブジェクト上の全てのスレッドが
一時停止の状態になることを意味しているので、注意が必要である。
いづれも場合も、インスペクトの画面を Close すると、自動的に再開される。
<P>
デバッグメッセージの捕捉 <BR>
<P>
Debugger メニューで Message を選択するとデバッグメッセージを捕捉し、表示する
画面が現われる。この画面には、debug 文の実行により作成されたデバッグ
メッセージが、その宛先毎に表示される。宛先が default である場合は、
「Default」の画面にメッセージを表示する。宛先がプロセス、あるいは、
グローバルオブジェクトである場合は、プロセス、グローバルオブジェクト毎に
新しい画面にメッセージを表示する。この機能は、１つのエグゼキュータに１つ
のみ起動することができる。
<P>
例外メッセージの捕捉 <BR>
<P>
Debuger メニューで Exception を選択すると例外メッセージを捕捉し、表示する
画面が現われる。この画面には、当該エグゼキュータからフォークされたプロセス
で発生した例外も報告される。例外メッセージの捕捉の画面の Capture メニュー
で選択された種類 の例外が発生すると、直ちにプロセスのインスペクトを開始する。
選択できる例外の種類は、次の４つである。
<DL ><DT>Not caught
<DD>プログラム上で捕捉されない例外
<DT>caught	
<DD>プログラム上で捕捉される例外
<DT>re-raise
<DD>例外を伝播するための例外
<DT>DoubleFault
<DD>例外処理中に発生した例外
<P>
 </DL>
例外のパラメータがオブジェクトであれば、オブジェクトのインスペクトも
開始する。プロセスのインスペクトを終了させると、例外処理が続行される。
この機能は、１つのエグゼキュータに１つのみ起動することができる。
<P>
<BR> <HR>
<P><ADDRESS>
Copyright 1994-1997 Information-technology Promotion Agency, Japan
</ADDRESS>
</BODY>
